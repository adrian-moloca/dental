# ================================
# OpenSearch Configuration
# ================================

# Cluster
cluster.name: dental-cluster
node.name: dental-node-01

# Network
network.host: 0.0.0.0
http.port: 9200
transport.port: 9300

# Discovery
discovery.type: single-node

# Paths
path.data: /usr/share/opensearch/data
path.logs: /usr/share/opensearch/logs

# Memory
bootstrap.memory_lock: true

# Security (using demo certificates for development)
plugins.security.ssl.transport.pemcert_filepath: esnode.pem
plugins.security.ssl.transport.pemkey_filepath: esnode-key.pem
plugins.security.ssl.transport.pemtrustedcas_filepath: root-ca.pem
plugins.security.ssl.transport.enforce_hostname_verification: false
plugins.security.ssl.http.enabled: true
plugins.security.ssl.http.pemcert_filepath: esnode.pem
plugins.security.ssl.http.pemkey_filepath: esnode-key.pem
plugins.security.ssl.http.pemtrustedcas_filepath: root-ca.pem

plugins.security.allow_unsafe_democertificates: true
plugins.security.allow_default_init_securityindex: true

plugins.security.authcz.admin_dn:
  - CN=kirk,OU=client,O=client,L=test,C=de

plugins.security.nodes_dn:
  - CN=node-0.example.com,OU=node,O=node,L=test,C=de

plugins.security.audit.type: internal_opensearch
plugins.security.enable_snapshot_restore_privilege: true
plugins.security.check_snapshot_restore_write_privileges: true
plugins.security.restapi.roles_enabled: ["all_access", "security_rest_api_access"]

# Indexing
action.auto_create_index: true

# Performance
indices.query.bool.max_clause_count: 1024
indices.memory.index_buffer_size: 10%
